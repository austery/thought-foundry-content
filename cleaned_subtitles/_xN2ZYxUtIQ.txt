朋友们想象一个场景 你刚刚度过了一个焦虑的星期 终于拿到了体检报告 翻开它 一个刺眼的词跳进了你的眼睛 阳性你心里咯噔一下 赶紧往下看 报告上附着一小段说明文字 本次检测 是一种新型高效的筛查技术 准确率高达99% 好了问题来了 一个准确率高达99%的检测结果是阳性 现在 你认为自己真的得了这种病的概率 到底是多少 凭直觉 你肯定会脱口而出那肯定是99%啊 对吧或者八九不离十了吧 如果我告诉你 你真正患病概率可能连10%都不到 你是什么反应 是觉得我疯了吗 还是觉得这家医院的数学 是体育老师教的 先别急着下判断 因为这个让你大脑宕机的场景 恰好就是我们这趟思想旅程的起点 我们要拆解的 是这个普遍存在 却又极其反直觉的理性的错觉 并且呢我们会从这个错觉的迷雾里 打捞一个 能够让你在今天这个信息爆炸 真假难辨的世界里 始终保持清醒的思考神器 它不仅关乎于你如何看待体检报告 更关乎你如何做出更 明智的投资 如何识破媒体的统计陷阱 如何更深刻的理解 人工智能的运作方式 准备好了吗 让我们一起给自己的直觉 做一次理性升级 我们今天要解锁这个神器 它的核心源于一个名字托马斯贝叶斯 这位贝叶斯先生 是18世纪英国的一位长老会牧师 同时也是一位业余数学家 他生前默默无闻 去世后他的朋友从他遗物里 发现一篇改变世界的论文 这篇论文的核心 后来被称为是贝叶斯推理 或者是贝叶斯法则 我知道啊 一听到公式或者法则 很多人DNA就动了 别怕我们今天不是推导公式 只是解读思想 说人话 贝叶斯推理 本质上就是一种信念更新体系 他只干一件事情 用新的证据 去更新你对一件事情的旧看法 然后得出一个更靠谱的新看法 这听起来 不就是我们每天都在做的事情吗 没错你早上出门看到天气阴沉沉的 这是新证据 你可能觉得可能会下雨 这个想法就变得更加强烈了 这就是一次非正式的贝叶斯推理 但是贝叶斯牧师厉害之处就在于 他把这个模糊的思考过程 变成了一个可以精确计算的数学工具 他给了我们一个配方 告诉我们 你的新看法的靠谱程度到底是多少 那么 为什么我们人类天生就会信念更新 到了体检报告这里却突然失灵了呢 因为我们的直觉有个巨大的盲区 我们的直觉通常是线 性的他会说 证据越强 结论就越真 99%的准确率检测 这是多强的证据 所以呢我病了 这个结论也基本可能就是真的了 这个逻辑错就错在 他忽略了一个我们看不见 却起了决定性作用的基础概率 什么是基础概率呢 就是在没有任何新证据之前 这件事情本身发生的可能性 到底有多大 换到体检这个例子里 基础概率就是 对于像我这样年龄 性别生活习惯的人来说 得这种病的概率本来是多少 这个数字就是我们整个推理的地基 也是我们所有判断的分母 如果地基是歪的 或者我们压根就没有看见地基 那么后面盖起来的就是空中楼阁 口说无凭 我们上真实数据 这组数据呢 来自于权威的美国乳腺癌监测联盟 BCSC假设一名40岁的女性 我们叫她安娜 她没有任何家族病史 生活习惯健康 她去做常规的乳腺x光检查 现在呢我们需要三个关键数字 一基础概率 对于一个像安娜这样40岁女性 未来一年患上乳腺癌的概率 到底是多少 数据告诉我们 大约是1/700 也就是说啊 700个Anna里 大约只有一个 真的会在这一年里患上癌症 这是很低很低的概率 关键数字2检测的灵敏度 关键数字2检测的灵敏度 如果一个人真的有癌症 那么 检测能够正确把它识别为阳性的概率 是多少呢 对于一个40 岁的女性 这个数字是73% 也就是100个真患者中 会有73个被正确检查出 第三是假阳性率 如果一个人根本没病 那么检测错误的 把它识别成阳性的概率是多少呢 这个数字是12% 也就是说 100个健康的人里头 会有12个被误报为阳性 白白担惊受怕 好了现在数字都集齐了 那么假设安娜拿到了阳性报告 请问她真正患癌的概率到底是多少呢 我们来做一次数学可视化 想象一下 我们邀请7,000名 和安娜情况类似的40岁女性 来参加这次筛查 根据1/700的基础概率 那么这7,000人里头 大概有多少是真正患有乳腺癌的呢 7,000乘以7百分之一 大约是10位 那么这十位呢 就用红色小人给标注出来 代表患者 其余的6,990个人都是灰色的 代表健康者 好了筛查开始 先看这10位真正的患者 检测灵敏度是73% 所以这10人里头呢 大约有7个人会得到真正阳性的报告 我们称之为真阳性 我们在他头上呢 亮起了绿色的加号 另外三位呢 会得到错误的阳性报告 这就是假阳性 我们暂不讨论 接下来呢 看到6,990位健康的女性 假阳性率是12% 所以呢这6,990人里头 会有多少人被误报为阳性呢 6,990乘以12% 大约是839位 我们称之为假阳性 那么我们给这些灰色的小人 假阳性的头上也标注一个加号 好现在所有拿到阳性报告人请出列 一共多少人呢 是这7位真患者 加上这839位被误报的健康人 总共是846位 最关键的问题来了 如果 你是这846位拿到阳性报告的人之一 请问你真的是那7位 真家伙的概率是多少呢 答案就是7/846 算一下约等于0.8% 看到了吗 一个准确率听起来很高的检测 一个让你胆战心惊的阳性结果 最终指向真实患病概率居然不到1% 大多数的阳性都是假警报 为什么会这样呢 因为在这个问题里啊 健康人的数量远远超过了患者的数量 哪怕健康人犯错的概率12%不高 但是因为他们基数太庞大了 所以制造出假阳性的总人数 轻而易举 就淹没了那个真正的真阳性群体 这就是贝叶斯推理给我们的第一课 永远不要孤立的看一个证据 一定要把它放回它所属的那个环境里 也就是它的基础概率去考量 忽略了分母 分子就毫无意义 为了让你能够彻底理解这个思维方式 啊我们换个场景 把它比作一个侦探断案 假设发生了一起谋杀案 侦探老马最初锁定了两个嫌疑人 一个有多次前科的嫌 疑人a一个有多次前科的惯犯 嫌疑人b 一个声誉良好 毫无劣迹的市民 在没有任何新证据之前呢 老马对于a的怀疑度啊 是比较高的 比如说60% 对于b呢 怀疑度是比较低的 比如说10% 这时候呢 法医传来一个新证据 在案发现场发现了一位 发现了一枚不完整的指纹 经过对比呢 有80%的可能性是嫌疑人a的 注意啊 这80%就是我们体检报告里那个准确率 他是一个强有力的证据 如果老马是个直觉型侦探 他可能一拍大腿 80%的概率是a 那基本就是他了结案 但是老马是一个贝叶斯侦探 他会怎么想呢 他会拿出贝叶斯的信念 更新公式来计算 他会说等一下 这个80%的指纹证据 确实大大提升了a的嫌疑 但是我们不能忘了我对a的旧看法 a本来就是高嫌疑对象 所以呢 发现对他不利的证据并不奇怪 而b他是个老好人 我需要更强的证据才能够说服我自己 他有罪贝叶斯法则 就是通过精确的计算提升幅度工具 他会综合旧看法a本来就有60%的嫌疑 和新证据 80%的指纹匹配率 最后得到一个更新后的新看法后 验概率这概率呢 会高于60% 但是可能不会像直觉一样 直接飙升到90%以上 这个类比的边界在哪里呢 真实世界的判 案证据之间可能会互相影响 不像我们历险那么干净独立 但是这个类比的核心在于 它帮助我们抓住了贝叶斯思维的精髓 你的判断也是你脑中所有信息的总和 而不是被最新 最亮眼的那个证据牵着鼻子走 好了理解了单个贝叶斯推理 我们就要进入更酷的部分了 如果说一次贝叶斯推理 是大脑的一个神经元完成了一次思考 那么 当我们把成千上万个思考神经元 连接起来 会发生什么呢 答案就是 我们会得到一个极其强大的 概率推理机器 它的名字呢 就叫贝叶斯网络 贝叶斯网络 是把很多个变量用箭头连接在一起 形成一张因果关系 或者是影响关系地图 而每个箭头都带着精确的概率数字 要理解这张大网是怎么工作的 我们只需要理解它 三个最基本的积木块 第一个积木块链式结构chain 比如呢火灾烟雾到警报 这个结构很简单 火灾引起烟雾 烟雾触发警报 火灾不会直接触发警报 这里的烟雾就是中间人 如果我们已经知道烟雾的状态 比如说我亲眼看到浓烟滚滚 那么火灾这个信息 对我判断警报会不会响 就没有那么重要了 中间的b阻断了a和c的信息交流 二个积木分叉结构Fork 比如呢一个小孩的年龄啊 b会既影响到他的鞋码a 也会影响到他阅读能力c 所以我们会观察到 鞋码大的孩子好像阅读能力也更强 但是两者之间有因果关系吗 当然没有了 你给孩子买双大号的鞋 并不会因为因此而多认识几个字 这里的年龄呢 就是一个共同原因 他制造了a和c之间的虚假关联 如果我们只看到同一年龄段的孩子 比如说只看所有7岁的孩子 你会发现 鞋码和运动能力之间就没什么关系了 第三种积木对撞结构 这是最有趣也最反直觉的 比如才华成名和颜值 我们假设啊 在演艺圈 一个人要成名b 要么得有才华a 要么得有颜值c 在普通人眼里头 我们认为 才华和颜值是两件独立的事情 没什么关系 但是一旦我们把目标聚焦在 已经成名的演员这个圈子里 神奇的事情发生了 让我们来做一次思想实验 想象一下 全世界所有想当演员的人 就像雨点一样 随机的洒在这个坐标轴上 他们中呢 有高才华高颜值的 有低才华低颜值的 有高才华低颜值的 整体来看呢 才华和颜值之间是相互独立不相关的 现在呢我们来画一条成名的门槛线 假设才华加颜值分总 分超过某个数值 你才能够出名 所有落在这条线右方上的点呢 就是我们看到明星线左下方呢 都被淘汰了 那么现在擦掉所有被淘汰的点 在这个成名区里头看这些点 你会发现什么呢 你会发现在成名这个小圈子里 才华和颜值呈现了负相关这时候 这就是为什么我会有这种感觉啊 那个男演员长得那么普通 演技肯定特别好 不然他怎么红的 或者那个女明星演技这么差 肯定是因为长得太好看了 这种现象在统计学上叫做对撞偏误 或者叫做解释效应 是因为 我们只看到 经过成名这个条件筛选后的幸存者 我们的直觉就错误 把这种幸存者偏差当成一种普遍规律 贝叶斯网络通过这三种简单的积木 就能够搭建出无比复杂的现实世界 模型并且精确 并且精确计算 其中每一个变量的概率变化啊 这个这种效应呢 其实还有一种就是配偶效应 比如说呢 你看到一个长相非常普通的男的 带着一个非常漂亮的女生 那么你肯定会推断 这个男生肯定很有钱 那那么这就是一个常见的才华和 那么这就是一个常见的 颜值和金钱的对撞效应 那么贝叶斯网络是完美的吗 它有没有阿克琉斯之踵呢 当然有了 它最大局限性 就是因为它本身并不懂因果 我们来画一个网络 下雨导致下雨 指向地湿 然后输入下雨的概率 它能够帮你算出地湿的概率 这很合理 但我们反过来画一个网络 地湿指向下雨 只要我们输入的条件概率表是匹配的 比如呢 已知地湿的情况下 下雨的概率是百分之x 那么 对于贝叶斯网络这个计算工具来说 他也完全成立 他也能算 他像一个超级能干 但是没有常识的会计 你给他什么样账本 他就算什么样账 他自己分不清到底是下雨导致了地湿 还是地湿导致了下雨 这里呢就引出了 我们常常听到那句金科玉律啊 相关不等于因果 贝叶斯网络呢 是描绘和计算相关性的顶级大师 他会告诉你啊 当a变化时 b有多大概率也跟着变 但是 如果你想知道一个更深层次的问题 比如说啊 现在我去做一件事情 比如呢给所有孩子都换上大号的鞋 会导致什么样的结果 他们的阅读能力 会提升吗 这类涉及干预的问题 纯粹的贝叶斯网络是无法回答的 要回答这个问题 你就必须给贝叶斯网络的箭头 赋予一个神圣的意义 那就是因果 你必须明确的告诉机器 a是b的原因 这个因果的假设不能来自于数据本身 它必须来自于 我们对于这个世界的先验知识 来自于科学实验 这也是本书作者 人工智能领域的巨擘 朱迪亚珀尔后来的工作核心 如何从单纯的贝叶斯网络 能够升级到因果推理的因果图 好吧即使有不懂因果这个局限 强大的贝叶斯网络也已经像水和电一样 渗透了我们现在生活的方方面面 我们来看几个真实的例子 感受一下它的威力 应用一空难调查2014年7月17日 马来西亚航空MH 17航班 在乌克兰东部被击落 机上298人全部遇难 遗体辨认工作极其困难 荷兰法医研究所NFI 动用了一个秘密武器 一个名叫波拿巴的软件 一个名叫波拿巴的软件 这个软件的核心 就是一个巨大的贝叶斯网络 他把一个家族的族谱 变成一张因果关系清晰的概率网络 然后 他把从遇害者遗骸里提取的DNA信息 与这些幸存亲属那里收集到DNA信息 都作为证据 输入到这张大网中 哪怕DNA信息来自于一位远房表亲 他也能够为识别一位遇难者身份 提供宝贵的概率支持 最终呢依靠这个概率系统 NFI成功识别了298位遇难者中的294位 这是一个用概率之网 为人间悲剧带去一丝慰藉的真实故事 应用2你的手机你有没有想过 为什么现在手机通话质量这么好 哪怕是在信号微弱的地方 也很少出现杂音和中断 这背后也有贝斯网络的功劳 你的声音 被手机转化成一长串 0和一的数字信号 在无线传输过程中 总会有一些0因为干扰变成了一 或者一些一变成了0 如何修复这些错误呢 工程师发明了一种叫做Turbo码的技术 简单来说啊 他把你说的每一句话 用两种不同的方式加密编码 等于上了一个双保险 接收端收到这两份带了点错误的信息 之后呢就会用一个基于贝叶斯网络的 信息传播算法 让这两个解码器相互商量 这个过程呢 就像两个侦探 各自掌握了一部分线索 通过不断沟通和彼此的通过 不断沟通和更新彼此的怀疑度 最终锁定真凶 正是这样技术呢 让4G和5G通信 能够在更低的能耗下 实现更高质量传输 除此之外呢 你每天都在用的垃圾邮件过滤器 Siri这样的语音识别 谷歌的搜索排序 甚至Xbox的玩家水平匹配系统背后 背后都有贝叶斯网络在尽情的工作 如此强大的工具 使用起来没有一些风险吗 当然有了 第一个风险就是起点专断 我们说过 贝叶斯推理需要一个旧看法 也就是先验概率 这个起点从哪里来呢 有时候 它可以来自于海量的客观的数据 比如说乳腺癌的发病率 但很多时候 它可能只是来自于 某个专家的个人经验 甚至偏见 问的起点就是错的 或者被恶意的设定 那么无论后续的证据多么客观 推理过程多么严谨 最终结果可能也被带到沟里去 第二个风险呢 就是计算诅咒 贝叶斯网络一旦变得非常复杂 比如说每个节点有好几个负节点 那么需要计算的概率条件数量 那就会就会变成一个天文数字 足以让今天最快的超级计算机 瞬间瘫痪 所以呢 所有现实世界中的贝叶斯网络应用啊 都不是对真实世界的完美复制 而是经过了大量简化 和剪枝的近似模型 了解这么多 我们普通人如何在生活中 运用贝叶斯思维 让自己变得更聪明呢 我给大家3个小建议 第一呢养成找分母的习惯 下次再看到某某方法让你的成 功率飙升50%这样的标题 先别激动 先冷静的问一下 基础成功率是多少 是从1/1,000提升到1.5‰呢 还是从50%提升到75% 前者几乎没有意义 后者则是巨大突破 学会找分母 你就免疫了90%的统计类营销忽悠 第二拥抱概率化的思维方式 不要再追求100%的确定 这个答案在复杂世界里头 几乎是不存在的 试着把你每一个判断 都看作是一个有具体数值的自信度 比如呢我有70%的把握这个项目能成 然后呢不断用新出现的信息 去动态调整这个数值 这会让你既不固执己见 也不会轻易动摇 第三呢警惕幸存者的误导 当你发现在某个成功的群体里 好像某些优秀特质总是2选一的时候 比如呢 又聪明又勤奋的员工好像不多 先别着急下结论 想一想是不是因为你观察到 这个群体本身 就是经过了残酷筛选的 幸存者偏差的样本值 这个思维呢 能够帮助你 洞察很多职场和商业中的迷思 我们已经站在了贝叶斯网络的肩膀上 看到一个由概率驱动 无比精妙的智能世界 但是一个更深邃的问题也随之浮现 既然机器本身并不懂因果 我们人类又如何 应该把我们对于因为所以的理解 清晰无歧义的交给清晰无歧义的 交给机器呢 这正是朱利亚珀尔 和许多科学家们在过去30年里 努力攀登另一座高峰因果之梯 他们尝试建设一套新的数学语言 让我们能够从观测数据中区分中 区分出真正的因果关系 和虚假的伴随关系 这不仅是人工智能下一个圣杯 也关系到 我们如何更有效的制定公共政策 如何开发出更精准的药物 今天这场信息量有点大的旅程 马上就要到终点了 关于贝叶斯这个思考神器 我希望你记住3句核心要诀 一他的灵魂是信念更新 记住这个公式旧看法等于新看法 新看法等于旧看法加新证据 第二他的命门是基础概率 面对任何一个惊人的比例 先问一句等等 等等总数是多少 分母在哪 第三它的边界是因果 贝叶斯网络是顶级的相关性计算器 但它不是因果分析器 要回答做什么 会怎样 我们需要更强大的因果科学工具 如果大家对这个话题还意犹未尽 想深入探索 为大家推荐3个宝藏入口 我们从一份可能 让你彻夜难眠的体检报告开始 一路拜访了一位200多年前的英国牧师 触摸到了空难调查手机通信 这些尖端科技背后的数学基石 回过头看 这场旅程的核心 可能不是什么复杂的公式 也不是什么冰冷的算法 而是一种谦逊却无比强大的世界观 那就是勇敢的承认我们最 初的看法可能是不完整的 甚至是错误的 然后呢永远对新的证据保持开放 并且随时准备好 用最严谨的逻辑去迭代和更新 我们的认知 在不断的信念更新中 一步步逼近真相 或许这就是智能的真正含义