---
author: AI超元域
date: '2026-01-07'
guest: ''
layout: post.njk
source: https://www.youtube.com/watch?v=_h2MGwJO1Yc
speaker: AI超元域
tags:
  - ai-coding
  - open-source
  - developer-tools
  - lsp
  - specification-driven-development
title: 🚀开源界的Claude Code来了！生产力核弹OpenCode深度使用体验，LSP完整支持，Token消耗一目了然，程序员福音！支持Antigravity IDE！结合OpenSpec规格驱动开发！
summary: 本视频深度评测了AI编程工具 **OpenCode**，将其定位为 **CloudCode** 的强大开源替代品。OpenCode支持免费使用 **GLM 4.7**、**MinMax M2.1** 等模型，并可集成 **GPT-4.5**。其核心优势包括完全开源（MIT许可）、完整 **LSP** 支持、多模型切换、精致TUI界面及多智能体系统。演示了在iOS项目中通过OpenCode实现判断题和多选题功能，并结合 **OpenSpec** 进行规格驱动开发。OpenCode操作简便，学习成本低，且能清晰展示Token消耗和代码变更，为开发者提供了高效透明的AI编程体验。
insight: ''
draft: true
series: ''
category: ai-application
area: tech-engineering
project: []
people: []
companies_orgs:
  - OpenAI
products_models:
  - OpenCode
  - CloudCode
  - GPT-4.5
  - OpenSpec
  - GLM 4.7
  - MinMax M2.1
media_books: []
status: evergreen
---
### OpenCode 深度解析：优势、安装与基础应用

最近，许多粉丝都让我介绍一款名为 **OpenCode** 的AI编程工具。这款工具近期备受关注，甚至登上了GitHub Trending，这足以证明其潜力和市场热度。经过我几天的深度使用，我得出一个关键结论：OpenCode在很大程度上可以**取代CloudCode**，成为开发者在新时代的得力助手。我曾亲身实践，使用OpenCode为我现有的原生iOS背单词应用新增了一个判断题功能，并且该功能实现得**完全准确且可通过测试**，没有任何错误。这对于那些在CloudCode使用中因各种限制（如封号问题）而受阻的用户来说，OpenCode无疑提供了一个绝佳的、更自由的替代方案。

OpenCode在操作方式和内置命令上与CloudCode极为相似，这意味着任何熟悉CloudCode的用户都能**几乎无缝地迁移**过来，使用体验和应用程度上的差异并不显著，大大降低了学习成本。然而，OpenCode的核心优势在于其开放性和强大的模型支持。它内置的API允许我们**免费使用GLM 4.7模型**以及**MinMax M2.1**这两款优秀的国产模型。此外，它还能免费接入XAI的glock code。更重要的是，OpenCode支持通过我们自己的Cloud账号登录，或使用我们自己的Cloud API密钥，这意味着它能够接入更多第三方服务。相比CloudCode，OpenCode**支持更多的API提供商和大型模型**，为开发者提供了前所未有的灵活性。

本期视频将通过贴合实际的案例，深入测试OpenCode这款AI编程工具在真实开发场景下的能力与效果。与CloudCode不同，OpenCode是**完全开源的，采用MIT许可证**，这保证了其透明度和社区驱动的发展模式。它支持**多模型自由切换**，允许开发者根据任务需求选择最合适的模型。它还拥有强大的插件系统，我将在下期视频中详细演示其潜力。OpenCode能够复用用户现有的订阅服务，并且具备一个精致的TUI界面，这有效解决了CloudCode用户常遇到的闪烁问题。更令人兴奋的是，它还能实现**多智能体系统**，并**完整支持LSP（Language Server Protocol）**，而CloudCode在这方面仍存在许多未修复的bug，影响了开发效率。

要开始使用OpenCode，过程非常简单。官方仓库提供了多种安装方式，满足不同平台的需求。对于Mac和Linux用户，可以直接使用Homebrew进行安装，Mac用户甚至还有方便的桌面版安装包。在本期视频中，我们将重点演示OpenCode的VS Code插件，这使得它能够无缝集成到VS Code或Google Gravity等主流IDE中，极大地提升了开发者的工作流程。为了方便演示，我将直接在Google Gravity环境中进行操作。在左侧的扩展面板，点击“扩展”，然后搜索“OpenCode”，选中并点击安装。安装完成后，我们就可以打开OpenCode，开始体验其强大的功能了。

通过斜杠命令 `/model`，我们可以轻松选择所需使用的模型。例如，我将选择它自带的 **MinMax M2.1** 模型进行初步测试，以了解其基础性能。在视频的后半部分，我们再配置Anthropic或OpenAI的模型，以探索更高级的应用场景。

在了解了OpenCode的概述、优势以及安装配置后，我们现在将通过实际操作来深入体验其能力。首先，我们来测试OpenCode分析现有项目aneous的能力。我将在Gravity中打开一个已有的项目——一个原生iOS背单词应用。输入一个简单的提示词，让它分析项目是如何实现单词发音的。我们可以先听一下这个应用的发音效果。点击单词后，它能够准确发音。运行应用后，在右侧可以看到OpenCode启用了LSP对代码进行搜索和分析。它非常迅速地输出了实现单词发音的代码片段，并提供了详细的解释，这展示了其强大的代码理解和分析能力。要开启LSP功能，只需在项目根目录创建一个名为 `.open_code` 的文件，并在其中配置Swift开发环境（`swift`）。

### 实战演练：功能开发、工作流集成与价值体现

接下来，我们将深入OpenCode在实际开发中的应用，包括复杂功能开发、工作流集成以及其为开发者带来的整体价值。

首先是功能开发部分。使用斜杠命令 `/new` 可以开启一个新的Session，这类似于CloudCode中的 `/clear` 命令，用于清空当前上下文并创建一个全新的会话，确保后续操作的独立性。现在，我们来让OpenCode为这个iOS背单词应用新增一个关键功能：在练习模块中加入判断题。目前应用仅支持选择题、填空题和听力题，增加判断题将极大地丰富练习形式。

回到Gravity中的OpenCode界面，我们首先使用 `/init` 命令初始化一个 `agent.yml` 文件。这个文件类似于CloudCode中的 `.agent.yml` 文件，它包含了项目的构建命令、项目结构、开发约定等核心配置信息。OpenCode正在分析项目以生成此文件。当我们需要对已有项目进行修改或二次开发时，使用 `/init` 命令生成 `agent.yml` 文件是标准流程，它为后续的AI辅助开发奠定了基础。文件生成完成后，我们就可以开始添加新功能了。

在添加功能之前，我们再次使用 `/new` 命令开启一个新的Session，以保证操作的纯净性。当前模式是“构建模式”。我们可以按 `Tab` 键快速切换到“计划模式”（Plan）。在CloudCode中，通常需要按 `Shift+Shift+T` 才能切换到Plan模式，而OpenCode的单键切换设计更加便捷。现在，输入一个简单的提示词，要求为项目在练习中新增判断题功能。我们先让它根据这个需求制定计划，此时使用的是MinMax M2.1模型。

OpenCode提示它需要先了解现有练习模块的结构，以便制定更详细、更有效的计划。很快，它生成了计划，并提供了三种不同的实现方案。我们选择方案A，它会自动复制到剪贴板。粘贴方案A后，直接运行。OpenCode根据方案A生成了具体的开发计划，并询问是否开始实施。我们按 `Tab` 键切换到执行模式，输入“确认”并运行。

可以看到，它迅速生成了详细的开发任务，并开始逐项执行。右侧实时显示了任务执行的每一个步骤，完成的任务会显示对勾，正在执行的任务则以高亮显示，提供了极佳的透明度。在“Context”区域，我们可以清晰地查看当前会话消耗的Token数量、剩余可用Token以及OpenCode修改过的文件列表。这些直观的信息展示是OpenCode相较于CloudCode的一大显著优势，让开发者能够全面掌握AI的资源消耗和代码变更。

系统开始自动构建项目，并在检查到错误时进行自动修复。最终，提示构建成功，判断题功能已完成，并给出了详细的总结报告。我们来实际验证一下判断题功能。点击“开始”，判断题功能已成功实现。选择答案后，系统能够正确响应。我们成功完成了十道判断题的测试，系统显示了用时和正确率。我还故意选错了一道，可以看到错题复习功能也得到了实现，这使得整个练习过程更加完整和智能化。整个过程中，我们使用的是MinMax M2.1模型，其表现已相当出色。

功能测试通过后，在Gravity IDE中，我们可以让OpenCode生成本次的变更列表，然后点击Commit，将这些改动安全地提交到版本控制系统中。

接下来，我们测试在OpenCode中使用CloudCode的订阅账号登录，以利用更强大的模型。输入斜杠命令 `/con`，选择“Cloud Pro Max”。系统会提供一个验证链接，复制该链接到浏览器中进行身份验证。验证成功后，我们就可以在OpenCode中选择并使用最强的 **GPT-4.5** 模型进行测试了。

现在，我们尝试将OpenCode的应用场景进一步拓展，结合 **OpenSpec** 这个开源的规格驱动开发（Specification-Driven Development, SpDD）工作流，在现有项目上新增更复杂的功能。OpenSpec非常适合在老项目上进行二次开发和迭代，它通过明确的规格来指导开发过程。首先，打开终端，执行OpenSpec官方提供的安装命令。校验版本号，当前是0.18.0。接着，执行命令初始化OpenSpec。在安装选项中，找到“OpenCode”，按空格键选中，再按 `Enter` 键，OpenSpec安装成功。此时需要重启OpenCode以加载新插件。

按照OpenSpec的推荐步骤，我们先让它完善 `project.md` 文件，这是项目文档的一部分。复制提示词并发送给OpenSpec。OpenSpec运行完成后，我们输入核心需求：为背单词App新增一个多选题功能，并请它为该功能创建OpenSpec变更提案。这里我使用的是英文提示词，因为使用GPT-4.5时，英文提示词通常能获得更好的效果。运行后，系统提示提案已创建，我们可以展开查看它为我们生成的详细任务列表。

现在，我们回到OpenCode，利用OpenSpec执行这些任务。运行相应命令后，可以看到它生成了详细的执行计划，并开始逐项执行。右侧实时显示Token消耗情况。代码编写完成，构建成功，随后开始运行单元测试。任务列表显示它正在编写单元测试，测试完成后，所有任务也运行完成。接着，它更新了 `task.md` 文件，该任务也执行完成。右侧清晰地展示了Token消耗以及被更新的文件列表。

所有任务完成后，我们使用 `/archive` 命令将这些变更进行归档。变更成功归档。最后，让OpenCode生成变更日志并提交。

至此，我们成功地在已有的iOS原生项目上，通过OpenCode结合GPT-4.5和OpenSpec规格驱动开发工作流，新增了多选题功能。OpenCode在整个过程中，清晰地展示了Token消耗、任务执行和文件更改，让开发者能够一目了然地掌握AI的工作状态。它还完整支持LSP。通过这些实践，可以发现OpenCode几乎无需任何学习成本，如果用户习惯使用CodeX或CloudCode，那么也能在一分钟之内快速上手。

总而言之，OpenCode作为一款新兴的AI编程工具，凭借其开源的特性、对多种模型的免费支持（如GLM 4.7、MinMax M2.1），以及付费模型（如GPT-4.5）的集成能力，为开发者提供了一个强大且灵活的解决方案。它不仅在功能上可以媲美甚至超越CloudCode，特别是在LSP支持的完整性、多智能体系统以及TUI界面的优化方面，更在成本效益上具有显著优势。其直观的界面设计，如实时任务进度、Token消耗和文件变更的可视化，极大地增强了开发过程的透明度和可控性。对于习惯了现有AI编程助手的开发者而言，OpenCode的学习曲线极其平缓，几乎可以做到即学即用。它不仅解决了CloudCode可能遇到的问题，还提供了更多可能性。OpenCode的出现，无疑是开源社区在AI编程领域的一项重要贡献，为广大开发者带来了福音。本期视频就到这里。如果您觉得OpenCode是一款值得尝试的工具，欢迎大家点赞、关注和转发，分享给更多需要的朋友。谢谢大家的观看！