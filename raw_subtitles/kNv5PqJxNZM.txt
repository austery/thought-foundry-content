数学家角谷静夫
曾经说过一句非常有意思的话
一个喝醉的人总能够找到回家的路
可能永远都飞不回去了
这听起来可能像个段子
但它其实描述了我们这个世界
最深层运行规律之一
我们在生活中经常会看到各种走势
股票连续涨了10天
大家说牛市来了
一个篮球运动员连进5球
解说员说他手热的发烫
一家公司连续5年盈利翻倍
商业杂志说他们掌握了卓越的基因
但是我告诉你
这些所谓的趋势实力或者规律
在数学家眼里
可能跟那个大街上乱晃的醉汉
没什么区别呢
今天呢
我们来聊一聊random walk随机游走模型
要理解那些复杂的股市k线图啊
我们现在回到最简单的原点
甚至比抛硬币还要再简单一点
我们叫它伯努利罐模型
想象一下我们图上这一个罐子啊
里面只有两种球
白球和灰球
规则很简单
只有三步
第一呢摇一摇
第二闭上眼睛摸一只球
记下颜色
第三这是最关键的一步
把球放回去
为什么要放回去呢
因为这保证我们每次抽奖
都是全新的开始
你刚刚抽到了白球
不会影响下一次抽到白球的概率
这在数学上叫做独立性
这样一个简单的罐子
也就是概率论的鼻祖
几百年前呢
人们发明它是为了算赌博赢钱的概率
但现在呢
它是我们理解世界的基石
这就引出一个非常重要的概念
大数定律
假设罐子里头有70%是白球
你抽10次
可能只有三次是白色
这很正常
这叫运气
但如果你抽1,000次
1万次白球的比例一定会无限接近70%
这听起来是废话
对吗
但这也是大脑最容易犯错的地方
就在我们把运气当成了规律
我们来做一个思想实验啊
你看一场NBA比赛
一个三分射手如有神助
连续投进了9个球
这时候你的直觉会告诉你啊
他今天状态神了
他手感发烫
把球给他
他今天还能进
这种感觉如此强烈
以至于我们很难相信另一种解释
让我们回到刚才那个罐子
假设这个球员呢
是水平不错
但是并不完美的射手
他的投篮啊
就像从一个红篮球各占一半的罐里头
摸球命中率是50%
投进一个球的概率是1/2
连续投进两个是1/4
那么连续投进9个的概率是多少呢
是1/2的9次方
大概是1/512
你看 1/500
这还不是奇迹吗
这肯定说明他有什么特殊状态
别急啊让我把时间拉长
一个优秀的职业球手
在他十年的漫长职业生涯中啊
有投出成千上万个球
数学家算过一笔账啊
在一个漫长的职业生涯中啊
一个50%命中率的投手
纯粹靠运气砸中一次9连中呢
其概率其实是一半对一半
也就是说
那个让你热血沸腾的神迹
在统计学的大样本下
只是一个平平无奇的必然事件
并没有什么手热
有的只是随机性
在长时间里给你开了一个玩笑
同样的逻辑呢
如果
我们把投篮换成每年的基金业绩呢
如果说
一个基金经理连续5年跑赢市场
他是股神
还是
只是那一个连中5次白球的幸运儿呢
现在呢
我们要给刚才的摸球游戏升级了
这一次呢
我们不只是记录颜色
我们要记账
这是一个随机游走模型
规律是这样的
我们从0开始
摸到白球或者是硬币的正面
我们就加一
向前走一步
摸到灰球或者是硬币的反面
我们就减一
向后退一步
这听起来像是小孩子游戏对吧
但是当你把它画在图上的时候
你会看到一大波连续的上涨
看起来是不是像极了一个正在爆发的
科技股再看后面这一段跳水
是不是像极了市场崩盘
如果你是一个技术分析师啊
你可能会在这里画出阻力位
在那里画出支撑线
甚至分析出啊
主力是在这里洗盘
但是我们是怎么画出这条线的呢
要记住啊
我们只是在抛硬币
在这个模型里呢
每一个时刻的位置
都是过去所有随机结果的加总
他的期望值永远是0
但是在任何具体时刻
他可能正在正1,000的高位狂欢
也可能低到-1,000的深渊里
这种有规律的错觉
就是著名作家塔勒布所说的
我们被随机性愚弄了
这时候你可能会问啊
既然是随机乱走
他还会回来吗
还是会像那只喝醉的鸟一样
飞到天边去了呢
这触及了随机游走最反直觉
也最残酷的一个数学性质
在数学上啊
我们的一维随机游走有两个铁律
第一呢他必然回归
也就是只要时间足够长
他一定会穿回0点
而且呢是无数次穿过
听到这里
你可能会松一口气啊
看来不管跌多惨
总会回本的嘛
别急啊看第2条
虽然他一定会回来
但他什么时候回来
是一个巨大的陷阱
这个等待时间呢
遵循幂律分布
什么意思呢
这意味着
大多数的回归发生的很快
也许两步就回来了
但是呢有少数情况
一旦它偏离了原点
可能需要几百万步
几亿步才会回来
想象一下
如果这代表一家公司
的现金流
虽然数学保证了你最终将回到平衡
但在此之前
你可能经历了长达10年的亏损
或者你的公司早就破产1万次了
这也解释了
为什么有的企业能活很久
但有些企业昙花一现
如果不考虑外部因素啊
仅仅是随机游走的数学概率
就注定了
大自然中会出现极少数
寿命极长的物种
和大量瞬间消亡的过客
所以呢那个喝醉的人啊
虽然在理论上
最终能够摸回自家大门
但在此之前呢
他可能已经绕地球走了半圈了
那么问题来了
这个乱走的模型
真能够解释我们复杂的现实世界吗
接下来呢
我们把维度升级啊
看看蚂蚁巴菲特和脸书的股价
到底是谁在乱走
还记得刚才那个倒霉的随机游走吗
一旦偏离了原点
回家路可能漫长到难以想象
这不仅仅是数学游戏
它残酷的预言了企业的寿命
如果一家公司也是一个醉汉
销售好时招一个人
销售差时裁一个人
当员工数归零
公司就倒闭了
如果说
我们统计全世界所有公司的寿命
你会发现
它完美符合我们刚才推导的幂律分布
绝大多数公司在成立几年内就死掉了
快速回归零点
只有极少数巨头能够活过百年
那些跑的很远的幸运长尾
这并不是因为小公司不努力
也并不是因为百年老店
有什么神秘的护城河
有时候呢
仅仅是因
为数学上的概率分布
同样的故事也发生在自然界
想象一个冰川在地面上随机游走
它向下挖掘
然后又随机向上回到地表
这一进一出之间
就挖出了一个坑
变成了冰川湖
地质学家去测量这些湖泊的大小分布
你猜怎么样
他和公司的寿命分布
和我们之前画的随机游走回归时间
几乎一模一样
从华尔街的倒闭潮
到荒野的湖泊
到背后的数学剧本
居然是同一本
现在我们解开开头那个谜题了
为什么角谷静夫说
喝醉的鸟会永远迷路呢
这其实涉及到
随机游走在不同维度下的命运
在一维在一维也就一条线
和二维一个平面的数学世界里
数学证明了随机游走必然会回归
如果你是一个
只在厨房地板上乱爬的蚂蚁啊
只要你不停的随机乱走
理论上
你一定会经过地盘上任何一个点
也一定会回到你的巢穴
这也是为什么
蚂蚁不需要太复杂的导航大脑
哪怕只是乱跑
数学保证他们大概率能够撞上食物
或者回家
但是啊我们一旦进入三维世界
魔法就消失了
三维空间里的随机游走
不再保证必然回归
那个喝醉的鸟
上上下下左左右右随机乱飞
它飞忽他回不到原点的概率不再是0
他有可能越飞越远
迷失在无穷的宇宙中
直觉告诉我们
多加一个维度应该差不多吧
但是逻辑告诉我们
这是质变
所以呢如果你迷路了
最好是在地面上随机乱走
千万别开飞机乱飞啊
既然随机性那么大
那是不是说所有的成功都是运气呢
比如说股神巴菲特
他会不会只是那一个
在全世界抛硬币大赛里
连续抛出50个正面的幸运儿呢
我们可以用伯努利罐模型来算一笔账
如果从1965年到2014年这50年期间里
巴菲特伯克希尔哈撒韦公司
有42年跑赢了大盘
如果他只是靠猜50%概率
这有多难呢
数学期望告诉我们
50年里平均应该赢25次
标准差大概是3.5年
巴菲特赢了42次
这比平均水平高出了5个标准差
在统计学上
这是一个1/1,000,000级别的事件
这呢有三个解释
第一他真的是几百万人之中
他真的是几百万人里头
唯一的天选之子
第二呢他在作弊
他在搞欺诈
第三他真的有两把刷子
这是实力
怎么区分呢
要看透明度
另一位华尔街传奇麦道夫
他的曲线业绩平滑的可怕
比巴菲特还神
但从不公开投资细节
如果你看到一个偏离标准化太远的神
而且是个黑箱
那大概率是作弊
麦道夫后来被证实是庞氏骗局
而巴菲特公司每年的公开持仓
我们可以排除欺诈
结论就是巴菲特不是随机游走
但请记住
这个世界只有一个巴菲特
对于绝大多数短期跑赢市场的
基金经理啊
他们可能真的是那只还没输光的猴子
现在
我们看一下右边这张图上的两条线啊
一条呢是社交巨头Facebook在2012年之后
上市一整年真实股价走势
另一条呢
是我用电脑抛硬币
随机画出来的游走图线
你能分得清楚啊
哪条是价值千亿公司
哪条是噪音吗
其实我也分不清啊
事实上他们看起来惊人的相似
我们来做一个实验
在那一年中呢
Facebook股价下跌的日子占了51%
接近一半对一半
股价连续两天朝一个方向移动的概率
是54% 几乎就是独立了
最长的一次连续涨跌是10天
而随机游走数据呢
期望是8天
非常接近啊
统计学家甚至对所有股票做过测试
发现如果我们把大盘长期上涨
那个平均趋势给减掉
那个平均趋势给减掉
剩下的日子里头
每日的波动
在数学上
几乎无法和随机有所区分开来
这意味着什么呢
这意味着那些每天盯着k线图啊
试图从昨天的涨跌里头
预测明天涨跌的短线
神操作在数学上
可能对着可能
和对着云彩形状算命没什么区别
这也就引出
金融学中最著名的理论之一啊
有效市场假说
它核心观点就是
股价已经反映了所有信息
未来价格呢
都只是随机的
有个经典的笑话
一位金融学教授和学生在散步
学生看到地面上有个百元大钞
刚想去捡
教授拦住他说别费劲了
那不可能是真钱
如果是真的
早就有人捡走了
这个笑话听起来非常荒谬
但它深刻的解释了
为什么股市看起来像随机游走
把百元大钞想象成预测股市中的规律
这就是一月效应的故事
以前有人发现啊
股票在1月份总会上涨
这就像地上真的有钱
然后呢聪明投资者发现这个规律
于是呢他们改为12月提前买入
结果呢 12月的价格被买高了
1月的利润空间被填平了
这个规律被捡走了
所以呢一个充满聪明人的市场
必然是没有简单规律的市场
但这也有个巨大的悖论啊
如果说大家都相信市场是完美的
地上没钱
大家就会停止研究股票
不要再去捡钱
一旦大家停止研究
股票就会乱套
地上就真的出现钱了
这时候呢
又会有人去捡钱
把市场变得完美
所以呢
市场永远在随机和有迹可循之间摇摆
没有哪一条金科玉律啊
能够让你稳赚不赔
除非呢你不仅比别人聪明
还比别人快
那么作为一个普通人
在充满随机陷阱
而且聪明人比你多的世界里
我们应该怎么办呢
难道只是闭眼瞎蒙吗
下一部分呢
我们将讨论如何在不确定的风暴中啊
找到那颗定海神针
如果世界真的是随机的
我们应该怎么做决策呢
让我们去一个随机性最纯粹的地方
赌场来看看随机游走模型
如何教你在劣势局里头求生
以轮盘赌为例啊
你押红或者押黑
看似是一半对一半
但是因为有绿色0和00的存在
你赢的概率其实只有47.4%
这就叫做biased random walk （有偏见的随机漫步）
你的每一步平均来说啊
都在后退
数学模型
告诉我们一个反直觉的结论啊
如果你打算在赌场玩一晚上
下注1,000次
每次只押一块钱
大数定律会无情的把你推向平均值
也就是输掉5%的钱
你下注越多次
输得越稳
几乎没有翻盘可能
在1万次下注后啊
你盈利的可能性小于1/1,000,000
但是啊如果你想赢的数据
数学给出的唯一建议是减少步数
增大方差
与其说下注1,000次
不如说把你所有钱都放在一注里
一把定输赢
这样呢你这样呢
你依然有47.4%的机会能够翻倍离场
虽然期望没有变
但你通过拒绝游走啊
在这个必输的游戏里头
给自己开出了一道赢的口子
听懂这个逻辑了吗
如果说局面对你不利
是负期望
要速战速决
增加波动性
赌一把运气
如果说局面对你有利啊
是正期望
比如说你是赌场
或者你是有真本事的巴菲特
你要做的就是拉长战线下无数次小注
让大树定律帮你把钱稳稳地收进口袋
就有弱者和强者不同的生存法则
既然我们追求正期望
我们往往会去向成功者取经啊
你一定看过这些商业书
比如说从优秀到卓越
作者Jim Collins通过海量数据
筛选出11家长期跑赢大盘的卓越公司
他总结这些公司的共同点啊
领导者要谦逊
要先人后事
要有纪律
书中甚至提到了
铁人三项冠军戴夫斯科特
为了减少脂肪
吃奶酪都要用水冲洗一遍
作者说这就是卓越的秘密
冲洗你的奶酪
这听起来很有道理
对吧但是我
但如果我们用随机游走模型来看呢
这可能是一场巨大的误会
在这本书出版后的10年里啊
那11家被封神的公司表现如何呢
只有一家继续保持了高增长
其他要么平庸
要么归零
为什么那些冲洗奶酪的铁律
突然失灵了呢
因为作者犯了一个逻辑错误
他利用结果倒推原因啊
如果有成千上万家公司在随机游走
必然会有几家连续10年都在上涨
这不代表他们做对了什么
这仅仅代表
他们可能是那几只幸运的喝醉的鸟
也许也许
那些倒闭的公司里
也有人在天天冲洗奶酪
只是没有人去采访失败者
所以呢当你下次听到
有人兜售成功学10条法则时
保持警惕
如果因果关系没有经过模型验证
那些所谓的法则可能只是随机波动
披上一层漂亮的外衣
说了那么多随机游走的坏话
我们能不能用它来做点有用的事情呢
答案是肯定的
比如呢我们如果比如呢
我们怎么知道互联网到底有多
大或者一个社交圈子到底有多少人
你不可能一个个去数对吧
这时候呢
我们可以利用随机游走的回归时间
假设你在一个只有3个人的小房间里
你闭着眼睛撞
可能没走几步就撞回到了出发点
但如果你在一个巨大的迷宫里呢
你可能要走上几万步
才能够误打误撞回到原点
就是数学的魅力
平均回归时间与网络的规模高度相关
谷歌的爬虫社交网络算法往往类似
往往利用类似的逻辑
只要派出一个虚拟的醉汉
在网络里乱跑
记住他回家的时间
我们就可以利用数学反推算出
这个世界的边界在哪里
看似无序的乱走
竟然成为我们测量未知世界的尺子
讲到这里啊
如果你觉得股市全是骗局
努力全无意义
那我们就想偏了
我们必须把目光放长
在短期呢
价格确实随机游走
就像那个醉汉
充满了噪音和泡沫
但是呢在长期啊
这个醉汉
是在一个倾斜的甲板上走路的
这叫做倾斜度
这个倾斜度呢
就是经济的增长
数学上叫做drift
我们看到一个横跨50年数据
从1967年到2017年
美国经济扣除通胀之后
实际增长大约3%
每年根据72法则
3%的增长率意
意味着每24年翻一番
50年大概翻4倍
实际上呢
美国GDP在这50年里确实翻了4倍
那么股市呢
虽然中间经历了无数次股灾
泡沫金融危机
但在终点上
标普500指数的实际价值
也仅仅是翻了4倍左右
这是一个振聋发聩的结论
短期上来看呢
市场可能疯了
随机游走
但长期上来看
市场无比诚实
回归经济基本面
如果你试图在短期波动中冲浪
就像长期资本管理公司
LTCM一样
哪怕你是诺贝尔奖得主
也有可能被一个浪头给拍死
但如果你依托于漂移项
相信人类创造价值能力
那么时间就是你的朋友
我们今天讲了伯努利罐
讲了醉汉走路
讲了手热效应
讲了冰川湖
所有这些呢
都只是为了给你装上一个过滤器
下次当你看到某人连赢10把
先别急着拜神
先算算概率是不是在标准差之内
某本书告诉你啊
只有这样做就能成功时
问问自己
是不是存在幸存者偏差
当市场大跌时
别慌看那个长期的漂移项还在不在
这就是模型思维啊
它不是为了让你预测未来
而是为了让你在面对不确定性时呢
别再大惊小怪
也不要再盲目焦虑了
回到开头那个问题啊
我们是那个能够回家的醉汉
还是那个迷路的鸟呢
在充满随机性的三维世界里
我们确实很容易迷路
但如果
我们在每一次微小的波动中寻找意义
那我们注定只是那个晕头转向的鸟
但我们如果
能够忽略那些无意义的随机震荡
专注于提升自己的漂移项
专注于你的技能
你的认知
你创造价值的能力
那么中间无论走了多少弯路
数学保证
你最终会抵达那个向上的终点
别被随机性愚弄
去做那个制造趋势的人